/**
 * Docskit CSS Variables for Fumadocs
 *
 * This file defines the CSS variables needed for @openpkg-ts/ui docskit components
 * to work within Fumadocs themes.
 *
 * Import this in your global CSS:
 *   @import '@openpkg-ts/fumadocs-adapter/css';
 *
 * Or add these variables to your Tailwind CSS:
 *   @import 'tailwindcss';
 *   @import 'fumadocs-ui/css/neutral.css';
 *   @import 'fumadocs-ui/css/preset.css';
 *   @import '@openpkg-ts/fumadocs-adapter/css';
 */

/* Tailwind v4 theme - shadcn-style color utilities */
@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  /* Kind badge colors */
  --color-kind-function: var(--kind-function);
  --color-kind-class: var(--kind-class);
  --color-kind-interface: var(--kind-interface);
  --color-kind-type: var(--kind-type);
  --color-kind-enum: var(--kind-enum);
  --color-kind-variable: var(--kind-variable);
  --color-kind-namespace: var(--kind-namespace);
  --color-kind-module: var(--kind-module);
  --color-kind-reference: var(--kind-reference);
  --color-kind-external: var(--kind-external);

  /* Docskit code block colors - mapped to CodeHike GitHub theme vars */
  --color-dk-background: var(--ch-16);
  --color-dk-border: var(--ch-23);
  --color-dk-tabs-background: var(--ch-22);
  --color-dk-tab-inactive-foreground: var(--ch-15);
  --color-dk-tab-active-foreground: var(--ch-4);
  --color-dk-selection: var(--ch-20);
  --color-dk-line-number: var(--ch-24);
  --color-dk-active-border: var(--ch-3);

  /* CodeHike syntax colors for Tailwind utilities */
  --color-ch-0: var(--ch-0);
  --color-ch-1: var(--ch-1);
  --color-ch-2: var(--ch-2);
  --color-ch-3: var(--ch-3);
  --color-ch-4: var(--ch-4);
  --color-ch-5: var(--ch-5);
  --color-ch-6: var(--ch-6);
  --color-ch-7: var(--ch-7);
  --color-ch-8: var(--ch-8);
  --color-ch-9: var(--ch-9);
}

@layer base {
  :root {
    /* shadcn/ui style variables mapped to Fumadocs */
    --background: var(--color-fd-background);
    --foreground: var(--color-fd-foreground);
    --card: var(--color-fd-card);
    --card-foreground: var(--color-fd-card-foreground, var(--color-fd-foreground));
    --muted: var(--color-fd-muted);
    --muted-foreground: var(--color-fd-muted-foreground);
    --border: var(--color-fd-border);
    --primary: var(--color-fd-primary);
    --primary-foreground: var(--color-fd-primary-foreground, hsl(0 0% 100%));
    --secondary: var(--color-fd-secondary);
    --secondary-foreground: var(--color-fd-secondary-foreground, var(--color-fd-foreground));
    --accent: var(--color-fd-accent);
    --accent-foreground: var(--color-fd-accent-foreground, var(--color-fd-foreground));

    /* Kind badge colors - light mode defaults */
    --kind-function: #7c3aed;
    --kind-class: #2563eb;
    --kind-interface: #0891b2;
    --kind-type: #0d9488;
    --kind-enum: #d97706;
    --kind-variable: #57534e;
    --kind-namespace: #9333ea;
    --kind-module: #1d4ed8;
    --kind-reference: #6366f1;
    --kind-external: #78716c;
  }

  /* Dark mode kind badge colors */
  .dark,
  [data-theme="dark"] {
    --kind-function: #a78bfa;
    --kind-class: #60a5fa;
    --kind-interface: #22d3ee;
    --kind-type: #2dd4bf;
    --kind-enum: #fbbf24;
    --kind-variable: #a8a29e;
    --kind-namespace: #c084fc;
    --kind-module: #93c5fd;
    --kind-reference: #a5b4fc;
    --kind-external: #d6d3d1;
  }
}

/* Tailwind utility classes for docskit - selection needs special handling */
@layer utilities {
  .selection\:bg-dk-selection::selection,
  .selection\:bg-dk-selection *::selection {
    background-color: var(--ch-20);
  }
}

/* API Reference page layouts */
@layer components {
  /* Common padding for all doccov pages - matches Fumadocs OpenAPI */
  .doccov-function-page,
  .doccov-class-page,
  .doccov-interface-page,
  .doccov-enum-page,
  .doccov-variable-page,
  .doccov-index-page,
  .doccov-full-reference-page {
    width: 100%;
    max-width: 1200px;
    padding: 32px 24px 24px;
  }

  /* Mobile-first: stack layout on small screens */
  @media (max-width: 1023px) {
    .doccov-function-page aside,
    .doccov-class-page aside,
    .doccov-interface-page aside {
      margin-top: 2rem;
      position: relative;
      top: auto;
      max-height: none;
      overflow-y: visible;
    }
  }

  /* Large screens: two-column with sticky sidebar */
  @media (min-width: 1024px) {
    .doccov-function-page,
    .doccov-class-page,
    .doccov-interface-page {
      overflow: visible;
    }
  }
}

/* CodeHike syntax highlighting theme - github-from-css */
/* These --ch-* variables are required for the "github-from-css" theme */
@layer base {
  /* GitHub Dark theme (default) */
  :root {
    --ch-0: #e6edf3; /* default text */
    --ch-1: #ff7b72; /* strings, inherited class */
    --ch-2: #a5d6ff; /* string literals */
    --ch-3: #79c0ff; /* keywords, function names */
    --ch-4: #a5d6ff; /* constants */
    --ch-5: #d2a8ff; /* entity names, types */
    --ch-6: #ffa657; /* variables, tag names */
    --ch-7: #8b949e; /* comments */
    --ch-8: #79c0ff; /* support */
    --ch-9: #e6edf3; /* punctuation */
    --ch-10: #f0f6fc;
    --ch-11: #490202;
    --ch-12: #04260f;
    --ch-13: #5a1e02;
    --ch-14: #161b22;
    --ch-15: #8b949e;
    --ch-16: #0d1117;
    --ch-17: #6e76811a;
    --ch-18: #ffffff0b;
    --ch-19: #3794ff;
    --ch-20: #264f78;
    --ch-21: #1f6feb;
    --ch-22: #010409;
    --ch-23: #30363d;
    --ch-24: #6e7681;
    --ch-25: #6e768166;
    --ch-26: #0d1117e6;
  }

  /* GitHub Light theme */
  .light,
  [data-theme="light"] {
    --ch-0: #24292f; /* default text */
    --ch-1: #cf222e; /* strings, inherited class */
    --ch-2: #116329; /* string literals */
    --ch-3: #0550ae; /* keywords, function names */
    --ch-4: #0a3069; /* constants */
    --ch-5: #8250df; /* entity names, types */
    --ch-6: #953800; /* variables, tag names */
    --ch-7: #6e7781; /* comments */
    --ch-8: #0550ae; /* support */
    --ch-9: #24292f; /* punctuation */
    --ch-10: #f6f8fa;
    --ch-11: #ffebe9;
    --ch-12: #dafbe1;
    --ch-13: #ffd8b5;
    --ch-14: #eaeef2;
    --ch-15: #57606a;
    --ch-16: #ffffff;
    --ch-17: #eaeef280;
    --ch-18: #fdff0033;
    --ch-19: #1a85ff;
    --ch-20: #add6ff;
    --ch-21: #0969da;
    --ch-22: #f6f8fa;
    --ch-23: #d0d7de;
    --ch-24: #8c959f;
    --ch-25: #afb8c133;
    --ch-26: #ffffffe6;
  }
}
